{
  "name": "WordPress DevContainer",
  "dockerComposeFile": "../docker-compose.yml",
  "service": "cli",
  "workspaceFolder": "/workspace",

  "customizations": {
    "vscode": {
      "extensions": [
        "bmewburn.vscode-intelephense-client",
        "SanderRonde.phpstan-vscode"
      ],
      "settings": {
        "php.validate.executablePath": "/usr/local/bin/php",
        "phpstan.binPath": "${workspaceFolder}/wordpress/vendor/bin/phpstan",
        "phpstan.rootDir": "${workspaceFolder}/wordpress",
        "phpstan.singleFileMode": true
      }
    }
  },

  "postCreateCommand": "bash .devcontainer/setup.sh",

  "remoteUser": "root",

  "shutdownAction": "none",

  "runServices": ["db", "wordpress", "phpmyadmin", "cli"]
}
